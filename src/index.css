@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  body {
    @apply bg-dark-bg text-text-light;
    background-image: 
      radial-gradient(circle at 1px 1px, rgba(255,255,255,0.03) 1px, transparent 0);
    background-size: 20px 20px;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
      'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
      sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  * {
    @apply box-border;
  }

  /* Remove focus outline for mouse clicks, keep for keyboard navigation (accessibility) */
  *:focus:not(:focus-visible) {
    outline: none !important;
    box-shadow: none !important;
  }

  /* Specifically target select elements which have stubborn browser styles */
  select:focus:not(:focus-visible),
  select:focus {
    outline: none !important;
    outline-width: 0 !important;
    box-shadow: none !important;
  }

  /* Chrome-specific fix for focus outline */
  select:-webkit-direct-focus {
    outline: none !important;
  }
}

@layer utilities {
  .grain-texture {
    position: relative;
  }

  .grain-texture::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.05'/%3E%3C/svg%3E");
    pointer-events: none;
    opacity: 0.3;
  }

  .knob-glow {
    box-shadow: 
      0 0 10px rgba(255, 107, 53, 0.3),
      0 0 20px rgba(255, 107, 53, 0.2),
      inset 0 0 20px rgba(0, 0, 0, 0.5);
  }

  .knob-glow-active {
    box-shadow: 
      0 0 15px rgba(255, 170, 0, 0.5),
      0 0 30px rgba(255, 170, 0, 0.3),
      inset 0 0 20px rgba(0, 0, 0, 0.5);
  }

  .vu-glow {
    box-shadow: 
      0 0 5px rgba(255, 170, 0, 0.4),
      inset 0 0 10px rgba(0, 0, 0, 0.6);
  }

  .animate-ember-float {
    animation: ember-float linear infinite;
  }
}

@keyframes ember-float {
  0% {
    transform: translateY(0) translateX(0) scale(1);
    opacity: 0;
  }
  5% {
    opacity: 0.8;
  }
  25% {
    transform: translateY(-25vh) translateX(10px) scale(0.9);
  }
  50% {
    transform: translateY(-50vh) translateX(-15px) scale(0.7);
    opacity: 0.6;
  }
  75% {
    transform: translateY(-75vh) translateX(20px) scale(0.4);
    opacity: 0.3;
  }
  100% {
    transform: translateY(-100vh) translateX(-10px) scale(0.2);
    opacity: 0;
  }
}

